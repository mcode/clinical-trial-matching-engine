<div class="clinical-trial-details">
  <!-- Replace with back to results -->
  <ng-content></ng-content>
  <div class="infobox">
    <div class="details-column">
      <h1>{{clinicalTrial.title}}</h1>
      <dl>
        <dt>Conditions:</dt>
        <dd class="conditions">{{replace(clinicalTrial.conditions)}}</dd>
        <dt>Trial Id:</dt>
        <dd class="trial-id">{{clinicalTrial.nctId}}</dd>
        <dt>Brief summary</dt>
        <dd class="summary">{{clinicalTrial.description}}</dd>
      </dl>
      <div class="status-icons">
        <div class="overall-status">
          <div class="icon">{{clinicalTrial.overallStatus}}</div>
          <div class="label">{{clinicalTrial.overallStatus}}</div>
        </div>
        <div *ngIf="clinicalTrial.getClosest(query.zipCode)!=null" class="nearest">
          <div class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="47" height="47"
              viewBox="0 0 47 47">
              <path id="ic_directions_24px"
                d="M48.32,23.84,27.165,2.685a2.341,2.341,0,0,0-3.314,0L2.7,23.84a2.341,2.341,0,0,0,0,3.314L23.85,48.31a2.341,2.341,0,0,0,3.314,0L48.32,27.155a2.341,2.341,0,0,0,0-3.314ZM30.2,31.386V25.509h-9.4v7.052h-4.7v-9.4a2.358,2.358,0,0,1,2.351-2.351H30.2V14.932l8.227,8.227Z"
                transform="translate(-2.007 -1.997)" fill="#525151" />
            </svg>
          </div>
          <div class="label">Closest location {{clinicalTrial.getClosest(query.zipCode)}}</div>
        </div>
        <div *ngIf="clinicalTrial.matchLikelihood!==null" class="match-likelihood">
          <div class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="103" height="103"
              viewBox="0 0 103 103">
              <g id="Ellipse_1" data-name="Ellipse 1" fill="none" [ngStyle]="{'stroke': getColor(clinicalTrial.matchLikelihood)}" stroke-width="10">
                <circle cx="51.5" cy="51.5" r="51.5" stroke="none" />
                <circle cx="51.5" cy="51.5" r="46.5" fill="none" />
              </g>
            </svg>
          </div>
          <div class="label">Match likelihood: <span [ngStyle]="{'color': getColor(clinicalTrial.matchLikelihood)}">{{clinicalTrial.matchLikelihood}}</span></div>
        </div>
      </div>
    </div>
    <div class="contacts-column">
      <h1>Contact Information</h1>
      <div class="sponsor">
        <h2>Sponsor:</h2>
        <span>{{clinicalTrial.sponsor}}</span>
        <div class="phone"><span class="phoneIcon">Phone:</span> {{clinicalTrial.overallContactPhone}}</div>
        <div class="email"><span class="emailIcon">Email:</span> {{clinicalTrial.overallContactEmail}}</div>
      </div>
      <div class="facilities">
        <h2>Facilities</h2>
        <ul class="facilityList">
          <li *ngFor="let site of clinicalTrial.sites" class="facility varfont">{{site.facility}}
            <div *ngIf="site.contactPhone" class="phone"><span class="phoneIcon">Phone:</span> {{site.contactPhone}}
            </div>
            <div *ngIf="site.contactEmail" class="email"><span class="emailIcon">Email:</span> {{site.contactEmail}}
            </div>
          </li>
        </ul>
      </div>
        <div class="mi-margin-10 pointer" (click)="toggleTrialSaved()">
          <svg xmlns="http://www.w3.org/2000/svg" width="95%" height="80%" viewBox="0 0 222 40">
            <g id="Group_46" data-name="Group 46" transform="translate(-1552 -451)">
              <g id="Group_23" data-name="Group 23" transform="translate(-27 -22)">
                <g id="Rectangle_250" data-name="Rectangle 250" transform="translate(1579 473)" stroke="#707070"
                  stroke-width="1">
                  <rect width="222" height="40" rx="10" stroke="none" />
                  <rect x="0.5" y="0.5" width="221" height="39" rx="9.5" [ngClass]="trialSaved ? 'saved' : 'unsaved'" />
                </g>
                <g id="save-24px" transform="translate(1603.053 477)">
                  <path id="Path_30" data-name="Path 30" d="M0,0H32V32H0Z" fill="none" />
                  <path id="Path_31" data-name="Path 31"
                    d="M21.667,3h-16A2.666,2.666,0,0,0,3,5.667V24.333A2.666,2.666,0,0,0,5.667,27H24.333A2.675,2.675,0,0,0,27,24.333v-16ZM15,24.333a4,4,0,1,1,4-4A3.995,3.995,0,0,1,15,24.333ZM19,11H5.667V5.667H19Z"
                    transform="translate(1 1)" fill="#0079e0" />
                </g>
                <text id="Save_study" data-name="Save study" transform="translate(1654 500)" fill="#0079e0"
                  font-size="20" font-family="Roboto-Bold, Roboto" font-weight="700">
                  <tspan x="0" y="0">{{trialSaved ? 'STUDY SAVED' : 'SAVE STUDY'}}</tspan>
                </text>
              </g>
            </g>
          </svg>
        </div>
    </div>
  </div>
</div>
<div style="background-color: white;">
  <button class="accordion" (click)="showHideAccordian($event)">Description</button>
  <div class="panel">
    <p id="description" class="accordionDetails">
      {{clinicalTrial.detailedDescription}}
    </p>
  </div>
  <button class="accordion" (click)="showHideAccordian($event)">Study Design </button>
  <div class="panel">
    <p id="studyDesign" class="accordionDetails">
      NA
    </p>
  </div>
  <div  *ngIf= "clinicalTrial.criteria!==''" >
  <button class="accordion" (click)="showHideAccordian($event)">Eligibility criteria</button>
  <div  class="panel">
    <p id="eligibilityCriteria" class="accordionDetails">
      {{clinicalTrial.criteria}}
    </p>
  </div>
  </div>
  <button class="accordion" (click)="showHideAccordian($event)">Arms & Interventions</button>
  <div class="panel">
    <p id="interventions" class="accordionDetails">
      NA
    </p>
  </div>
  <button class="accordion" (click)="showHideAccordian($event)">More information</button>
  <div class="panel">
    <p id="moreInformation" class="accordionDetails">
      NA
    </p>
  </div>
</div>
